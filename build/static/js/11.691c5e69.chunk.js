(window["webpackJsonpinvenctory-react"]=window["webpackJsonpinvenctory-react"]||[]).push([[11],{131:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];function r(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var l=null;return a.forEach((function(e){if(null==l){var a=e.apply(void 0,t);null!=a&&(l=a)}})),l}return(0,o.default)(r)};var r,l=t(140),o=(r=l)&&r.__esModule?r:{default:r};e.exports=a.default},133:function(e,a,t){"use strict";var r=t(62);var l=t(139),o=t(69);function n(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(l.a)(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.d(a,"a",(function(){return n}))},139:function(e,a,t){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}t.d(a,"a",(function(){return r}))},140:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){function a(a,t,r,l,o,n){var i=l||"<<anonymous>>",c=n||r;if(null==t[r])return a?new Error("Required "+o+" `"+c+"` was not specified in `"+i+"`."):null;for(var s=arguments.length,d=Array(s>6?s-6:0),u=6;u<s;u++)d[u-6]=arguments[u];return e.apply(void 0,[t,r,i,o,c].concat(d))}var t=a.bind(null,!1);return t.isRequired=a.bind(null,!0),t},e.exports=a.default},165:function(e,a,t){"use strict";var r=t(4),l=t(6),o=t(16),n=t.n(o),i=t(0),c=t.n(i),s=(t(131),t(7)),d=t.n(s),u=["as","className","type","tooltip"],m={type:d.a.string,tooltip:d.a.bool,as:d.a.elementType},f=c.a.forwardRef((function(e,a){var t=e.as,o=void 0===t?"div":t,i=e.className,s=e.type,d=void 0===s?"valid":s,m=e.tooltip,f=void 0!==m&&m,b=Object(l.a)(e,u);return c.a.createElement(o,Object(r.a)({},b,{ref:a,className:n()(i,d+"-"+(f?"tooltip":"feedback"))}))}));f.displayName="Feedback",f.propTypes=m;var b=f,v=c.a.createContext({controlId:void 0}),p=t(17),h=["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"],O=c.a.forwardRef((function(e,a){var t=e.id,o=e.bsPrefix,s=e.bsCustomPrefix,d=e.className,u=e.type,m=void 0===u?"checkbox":u,f=e.isValid,b=void 0!==f&&f,O=e.isInvalid,y=void 0!==O&&O,j=e.isStatic,N=e.as,E=void 0===N?"input":N,x=Object(l.a)(e,h),g=Object(i.useContext)(v),P=g.controlId,w=g.custom?[s,"custom-control-input"]:[o,"form-check-input"],C=w[0],F=w[1];return o=Object(p.a)(C,F),c.a.createElement(E,Object(r.a)({},x,{ref:a,type:m,id:t||P,className:n()(d,o,b&&"is-valid",y&&"is-invalid",j&&"position-static")}))}));O.displayName="FormCheckInput";var y=O,j=["bsPrefix","bsCustomPrefix","className","htmlFor"],N=c.a.forwardRef((function(e,a){var t=e.bsPrefix,o=e.bsCustomPrefix,s=e.className,d=e.htmlFor,u=Object(l.a)(e,j),m=Object(i.useContext)(v),f=m.controlId,b=m.custom?[o,"custom-control-label"]:[t,"form-check-label"],h=b[0],O=b[1];return t=Object(p.a)(h,O),c.a.createElement("label",Object(r.a)({},u,{ref:a,htmlFor:d||f,className:n()(s,t)}))}));N.displayName="FormCheckLabel";var E=N,x=["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"],g=c.a.forwardRef((function(e,a){var t=e.id,o=e.bsPrefix,s=e.bsCustomPrefix,d=e.inline,u=void 0!==d&&d,m=e.disabled,f=void 0!==m&&m,h=e.isValid,O=void 0!==h&&h,j=e.isInvalid,N=void 0!==j&&j,g=e.feedbackTooltip,P=void 0!==g&&g,w=e.feedback,C=e.className,F=e.style,k=e.title,I=void 0===k?"":k,_=e.type,S=void 0===_?"checkbox":_,q=e.label,R=e.children,A=e.custom,V=e.as,L=void 0===V?"input":V,T=Object(l.a)(e,x),M="switch"===S||A,G=M?[s,"custom-control"]:[o,"form-check"],D=G[0],z=G[1];o=Object(p.a)(D,z);var Q=Object(i.useContext)(v).controlId,B=Object(i.useMemo)((function(){return{controlId:t||Q,custom:M}}),[Q,M,t]),J=M||null!=q&&!1!==q&&!R,H=c.a.createElement(y,Object(r.a)({},T,{type:"switch"===S?"checkbox":S,ref:a,isValid:O,isInvalid:N,isStatic:!J,disabled:f,as:L}));return c.a.createElement(v.Provider,{value:B},c.a.createElement("div",{style:F,className:n()(C,o,M&&"custom-"+S,u&&o+"-inline")},R||c.a.createElement(c.a.Fragment,null,H,J&&c.a.createElement(E,{title:I},q),(O||N)&&c.a.createElement(b,{type:O?"valid":"invalid",tooltip:P},w))))}));g.displayName="FormCheck",g.Input=y,g.Label=E;var P=g,w=["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"],C=c.a.forwardRef((function(e,a){var t=e.id,o=e.bsPrefix,s=e.bsCustomPrefix,d=e.className,u=e.isValid,m=e.isInvalid,f=e.lang,b=e.as,h=void 0===b?"input":b,O=Object(l.a)(e,w),y=Object(i.useContext)(v),j=y.controlId,N=y.custom?[s,"custom-file-input"]:[o,"form-control-file"],E=N[0],x=N[1];return o=Object(p.a)(E,x),c.a.createElement(h,Object(r.a)({},O,{ref:a,id:t||j,type:"file",lang:f,className:n()(d,o,u&&"is-valid",m&&"is-invalid")}))}));C.displayName="FormFileInput";var F=C,k=["bsPrefix","bsCustomPrefix","className","htmlFor"],I=c.a.forwardRef((function(e,a){var t=e.bsPrefix,o=e.bsCustomPrefix,s=e.className,d=e.htmlFor,u=Object(l.a)(e,k),m=Object(i.useContext)(v),f=m.controlId,b=m.custom?[o,"custom-file-label"]:[t,"form-file-label"],h=b[0],O=b[1];return t=Object(p.a)(h,O),c.a.createElement("label",Object(r.a)({},u,{ref:a,htmlFor:d||f,className:n()(s,t),"data-browse":u["data-browse"]}))}));I.displayName="FormFileLabel";var _=I,S=["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"],q=c.a.forwardRef((function(e,a){var t=e.id,o=e.bsPrefix,s=e.bsCustomPrefix,d=e.disabled,u=void 0!==d&&d,m=e.isValid,f=void 0!==m&&m,h=e.isInvalid,O=void 0!==h&&h,y=e.feedbackTooltip,j=void 0!==y&&y,N=e.feedback,E=e.className,x=e.style,g=e.label,P=e.children,w=e.custom,C=e.lang,k=e["data-browse"],I=e.as,q=void 0===I?"div":I,R=e.inputAs,A=void 0===R?"input":R,V=Object(l.a)(e,S),L=w?[s,"custom"]:[o,"form-file"],T=L[0],M=L[1];o=Object(p.a)(T,M);var G=Object(i.useContext)(v).controlId,D=Object(i.useMemo)((function(){return{controlId:t||G,custom:w}}),[G,w,t]),z=null!=g&&!1!==g&&!P,Q=c.a.createElement(F,Object(r.a)({},V,{ref:a,isValid:f,isInvalid:O,disabled:u,as:A,lang:C}));return c.a.createElement(v.Provider,{value:D},c.a.createElement(q,{style:x,className:n()(E,o,w&&"custom-file")},P||c.a.createElement(c.a.Fragment,null,w?c.a.createElement(c.a.Fragment,null,Q,z&&c.a.createElement(_,{"data-browse":k},g)):c.a.createElement(c.a.Fragment,null,z&&c.a.createElement(_,null,g),Q),(f||O)&&c.a.createElement(b,{type:f?"valid":"invalid",tooltip:j},N))))}));q.displayName="FormFile",q.Input=F,q.Label=_;var R=q,A=(t(61),["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),V=c.a.forwardRef((function(e,a){var t,o,s=e.bsPrefix,d=e.bsCustomPrefix,u=e.type,m=e.size,f=e.htmlSize,b=e.id,h=e.className,O=e.isValid,y=void 0!==O&&O,j=e.isInvalid,N=void 0!==j&&j,E=e.plaintext,x=e.readOnly,g=e.custom,P=e.as,w=void 0===P?"input":P,C=Object(l.a)(e,A),F=Object(i.useContext)(v).controlId,k=g?[d,"custom"]:[s,"form-control"],I=k[0],_=k[1];if(s=Object(p.a)(I,_),E)(o={})[s+"-plaintext"]=!0,t=o;else if("file"===u){var S;(S={})[s+"-file"]=!0,t=S}else if("range"===u){var q;(q={})[s+"-range"]=!0,t=q}else if("select"===w&&g){var R;(R={})[s+"-select"]=!0,R[s+"-select-"+m]=m,t=R}else{var V;(V={})[s]=!0,V[s+"-"+m]=m,t=V}return c.a.createElement(w,Object(r.a)({},C,{type:u,size:f,ref:a,readOnly:x,id:b||F,className:n()(h,t,y&&"is-valid",N&&"is-invalid")}))}));V.displayName="FormControl";var L=Object.assign(V,{Feedback:b}),T=["bsPrefix","className","children","controlId","as"],M=c.a.forwardRef((function(e,a){var t=e.bsPrefix,o=e.className,s=e.children,d=e.controlId,u=e.as,m=void 0===u?"div":u,f=Object(l.a)(e,T);t=Object(p.a)(t,"form-group");var b=Object(i.useMemo)((function(){return{controlId:d}}),[d]);return c.a.createElement(v.Provider,{value:b},c.a.createElement(m,Object(r.a)({},f,{ref:a,className:n()(o,t)}),s))}));M.displayName="FormGroup";var G=M,D=["bsPrefix","className","as"],z=["xl","lg","md","sm","xs"],Q=c.a.forwardRef((function(e,a){var t=e.bsPrefix,o=e.className,i=e.as,s=void 0===i?"div":i,d=Object(l.a)(e,D),u=Object(p.a)(t,"col"),m=[],f=[];return z.forEach((function(e){var a,t,r,l=d[e];if(delete d[e],"object"===typeof l&&null!=l){var o=l.span;a=void 0===o||o,t=l.offset,r=l.order}else a=l;var n="xs"!==e?"-"+e:"";a&&m.push(!0===a?""+u+n:""+u+n+"-"+a),null!=r&&f.push("order"+n+"-"+r),null!=t&&f.push("offset"+n+"-"+t)})),m.length||m.push(u),c.a.createElement(s,Object(r.a)({},d,{ref:a,className:n.a.apply(void 0,[o].concat(m,f))}))}));Q.displayName="Col";var B=Q,J=["as","bsPrefix","column","srOnly","className","htmlFor"],H=c.a.forwardRef((function(e,a){var t=e.as,o=void 0===t?"label":t,s=e.bsPrefix,d=e.column,u=e.srOnly,m=e.className,f=e.htmlFor,b=Object(l.a)(e,J),h=Object(i.useContext)(v).controlId;s=Object(p.a)(s,"form-label");var O="col-form-label";"string"===typeof d&&(O=O+" "+O+"-"+d);var y=n()(m,s,u&&"sr-only",d&&O);return f=f||h,d?c.a.createElement(B,Object(r.a)({ref:a,as:"label",className:y,htmlFor:f},b)):c.a.createElement(o,Object(r.a)({ref:a,className:y,htmlFor:f},b))}));H.displayName="FormLabel",H.defaultProps={column:!1,srOnly:!1};var W=H,Y=["bsPrefix","className","as","muted"],K=c.a.forwardRef((function(e,a){var t=e.bsPrefix,o=e.className,i=e.as,s=void 0===i?"small":i,d=e.muted,u=Object(l.a)(e,Y);return t=Object(p.a)(t,"form-text"),c.a.createElement(s,Object(r.a)({},u,{ref:a,className:n()(o,t,d&&"text-muted")}))}));K.displayName="FormText";var U=K,X=c.a.forwardRef((function(e,a){return c.a.createElement(P,Object(r.a)({},e,{ref:a,type:"switch"}))}));X.displayName="Switch",X.Input=P.Input,X.Label=P.Label;var Z=X,$=t(50),ee=["bsPrefix","inline","className","validated","as"],ae=Object($.a)("form-row"),te=c.a.forwardRef((function(e,a){var t=e.bsPrefix,o=e.inline,i=e.className,s=e.validated,d=e.as,u=void 0===d?"form":d,m=Object(l.a)(e,ee);return t=Object(p.a)(t,"form"),c.a.createElement(u,Object(r.a)({},m,{ref:a,className:n()(i,s&&"was-validated",o&&t+"-inline")}))}));te.displayName="Form",te.defaultProps={inline:!1},te.Row=ae,te.Group=G,te.Control=L,te.Check=P,te.File=R,te.Switch=Z,te.Label=W,te.Text=U;a.a=te},221:function(e,a,t){},257:function(e,a,t){"use strict";t.r(a);var r=t(23),l=t(24),o=t(26),n=t(25),i=t(0),c=t.n(i),s=t(68),d=t(48),u=t(165),m=t(142),f=t(136),b=t(10),v=(t(135),t(28));t(221);var p=function(){var e=Object(m.a)(),a=e.register,t=e.handleSubmit,r=e.reset,l=c.a.useRef(null),o=Object(b.h)().idAction,n=Object(i.useState)(null),p=Object(d.a)(n,2),h=p[0],O=p[1],y=Object(i.useState)(null),j=Object(d.a)(y,2),N=j[0],E=j[1],x=Object(i.useState)(null),g=Object(d.a)(x,2),P=g[0],w=g[1],C=Object(i.useState)(null),F=Object(d.a)(C,2),k=F[0],I=F[1];Object(i.useEffect)((function(){var e=!0,a=v.a.database().ref();return v.a.auth().onAuthStateChanged((function(t){t?(I(t.uid),a.child("usuarios/".concat(t.uid)).get().then((function(a){e&&(a.exists()?w(Object(s.a)({},a.val())):(console.log("No data available"),w({})))})).catch((function(e){console.error(e)}))):console.log("no user")})),function(){e=!1}}),[]),Object(i.useEffect)((function(){var e=!0;return P&&v.a.database().ref().child("/filiais/".concat(P.id_filial,"/estoque/acoes/").concat(o)).get().then((function(a){e&&(E(Object(s.a)({},a.val())),v.a.database().ref().child("/filiais/".concat(P.id_filial,"/estoque/produtos/").concat(a.val().id_prod)).get().then((function(a){e&&O(a.val())})).catch((function(e){console.error(e)})))})).catch((function(e){console.error(e)})),function(){e=!1}}),[P,k,o]),Object(i.useEffect)((function(){h&&(console.log(N),console.log(h))}),[N,h]);var _=function(){return l.current=f.b.loading("Salvando Dados Aguarde...",{theme:"dark",autoClose:!1})},S=function(){return f.b.dismiss(l.current)};return c.a.createElement("div",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 grid-margin stretch-card"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},N&&h&&c.a.createElement("form",{className:"form-sample",onSubmit:t((function(e){console.log(e);var a=new Date,t=String(a.getDate()).padStart(2,"0"),l=String(a.getMonth()+1).padStart(2,"0"),n=a.getFullYear(),i="".concat(t,"/").concat(l,"/").concat(n),c=a.getSeconds(),s=a.getMinutes(),d=a.getHours(),u="".concat(d,":").concat(s,":").concat(c),m=v.a.database().ref().child("filiais/".concat(P.id_filial,"/estoque/acoes/").concat(o,"/devolucoes")).push(),b=m.key;m.set({data:i,hora:u,id_prod:N.id_prod,id_usuario:k,obs:e.obs,quantidade:parseFloat(e.amount),tipo:"devolucao"}).then((function(){_();var a={quantidade_devolvida:N.quantidade_devolvida+parseFloat(e.amount),status:!0===e.checked||parseFloat(e.amount)+parseFloat(N.quantidade_devolvida)===parseFloat(N.quantidade_retirada)?"devolvido":"pendente"},t={qt_atual:h.qt_atual+parseFloat(e.amount)};v.a.database().ref("filiais/".concat(P.id_filial,"/estoque/acoes/").concat(o)).update(a),v.a.database().ref("filiais/".concat(P.id_filial,"/estoque/produtos/").concat(N.id_prod)).update(t);var l=v.a.storage().ref(),n=0,i=Array.from(e.files).length;Array.from(e.files).forEach((function(e){l.child("filiais/".concat(P.id_filial,"/acoes/").concat(o,"/devolucoes/").concat(b,"/").concat(e.name)).put(e).then((function(e){(n+=1)===i&&(f.b.success("Todas os dados e fotos foram salvos com sucesso",{theme:"dark",hideProgressBar:!0,autoClose:4e3}),S(),r())})).catch((function(){console.log("upload fail")}))}))})).catch((function(){f.b.error("Algo deu errado tente novamente",{theme:"dark"})})),f.b.clearWaitingQueue()}))},c.a.createElement(u.a.Group,null,c.a.createElement(u.a.Label,null,"Produto"),c.a.createElement(u.a.Control,{style:{backgroundColor:"#30343c",color:"gray"},type:"text",className:"form-control",placeholder:"Produto",value:h.categoria+" - "+N.quantidade_retirada+" retirados",disabled:!0})),c.a.createElement(u.a.Group,null,c.a.createElement(u.a.Label,null,"Quantidade a ser devolvida"),c.a.createElement(u.a.Control,Object.assign({type:"number",className:"form-control",placeholder:"Quantidade devolvida",defaultValue:N.quantidade_retirada-N.quantidade_devolvida},a("amount"),{required:!0}))),c.a.createElement(u.a.Group,null,c.a.createElement(u.a.Label,null,"Obs"),c.a.createElement(u.a.Control,Object.assign({type:"text",className:"form-control",placeholder:"Obs ",defaultValue:N.obs},a("obs"),{required:!0}))),c.a.createElement(u.a.Group,{style:{textAlign:"center",border:"1px solid white"}},c.a.createElement("label",{style:{width:"100%",display:"inline-block",marginBottom:"0%",cursor:"pointer"}},c.a.createElement("i",{className:"icon-md mdi mdi-image-multiple"}," Fotos"),c.a.createElement("input",Object.assign({style:{cursor:"pointer"},id:"myInput",type:"file",accept:"image/*",multiple:!0,className:"form-control",required:!0},a("files"))))),c.a.createElement(u.a.Group,null,c.a.createElement("div",{className:"form-check"},c.a.createElement("label",{className:"form-check-label"},c.a.createElement("input",Object.assign({className:"checkbox",type:"checkbox",defaultChecked:!1},a("checked")))," ","N\xe3o farei outras devolu\xe7\xf5es para este produto"," ",c.a.createElement("i",{className:"input-helper"})))),c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("button",{type:"submit",className:"btn btn-primary mr-2"},"Salvar"),c.a.createElement(f.a,null))))))))};t.d(a,"ReturnEdit",(function(){return h}));var h=function(e){Object(o.a)(t,e);var a=Object(n.a)(t);function t(){return Object(r.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"page-header"},c.a.createElement("h3",{className:"page-title"}," Devolu\xe7\xe3o "),c.a.createElement("nav",{"aria-label":"breadcrumb"},c.a.createElement("ol",{className:"breadcrumb"},c.a.createElement("li",{className:"breadcrumb-item"},c.a.createElement("a",{href:"!#",onClick:function(e){return e.preventDefault()}},"A\xe7\xf5es")),c.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},"Devolu\xe7\xf5es")))),c.a.createElement(p,null))}}]),t}(i.Component);a.default=h}}]);
//# sourceMappingURL=11.691c5e69.chunk.js.map