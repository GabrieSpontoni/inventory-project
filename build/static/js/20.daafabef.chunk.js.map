{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","app/components/user-pages/RegisterForm.js","app/user-pages/Register.js"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iterableToArray","unsupportedIterableToArray","TypeError","_iterableToArray","iter","Symbol","iterator","Object","from","RegisterForm","useForm","register","handleSubmit","reset","useState","branchs","setBranchs","useEffect","firebase","database","ref","child","get","then","snapshot","exists","val","console","log","catch","error","className","onSubmit","data","toast","info","icon","theme","date","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","today","seconds","getSeconds","minutes","getMinutes","hour","getHours","time","auth","createUserWithEmailAndPassword","email","password","userCredential","user","uid","set","nome","full_name","id_filial","branch_id","tipo_requisicao","type_request","tipo_atual","data_criacao","hora_criacao","success","position","message","clearWaitingQueue","type","placeholder","required","defaultValue","value","disabled","hidden","keys","map","id","key","localizacao","cidade","estado","pais","limit","to","Register","Component"],"mappings":"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","file":"static/js/20.daafabef.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport firebase from \"firebase/app\";\n\nexport default function RegisterForm() {\n  const { register, handleSubmit, reset } = useForm();\n  const [branchs, setBranchs] = useState({});\n\n  useEffect(() => {\n    const dbRef = firebase.database().ref();\n    dbRef\n      .child(\"filiais\")\n      .get()\n      .then((snapshot) => {\n        if (snapshot.exists()) {\n          // console.log(snapshot.val());\n          setBranchs(snapshot.val());\n        } else {\n          console.log(\"No data available\");\n        }\n      })\n      .catch((error) => {\n        // console.error(error);\n      });\n  }, []);\n\n  const onSubmit = (data) => {\n    toast.info(\"Estamos criando sua conta\", {\n      icon: \"⌛\",\n      theme: \"dark\",\n    });\n    // console.log(data);\n    const date = new Date();\n    const dd = String(date.getDate()).padStart(2, \"0\");\n    const mm = String(date.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n    const yyyy = date.getFullYear();\n    const today = `${dd}/${mm}/${yyyy}`;\n    const seconds = date.getSeconds();\n    const minutes = date.getMinutes();\n    const hour = date.getHours();\n    const time = `${hour}:${minutes}:${seconds}`;\n\n    firebase\n      .auth()\n      .createUserWithEmailAndPassword(data.email, data.password)\n      .then((userCredential) => {\n        const userRef = firebase\n          .database()\n          .ref(`usuarios/${userCredential.user.uid}`);\n        const newUserRef = userRef;\n\n        newUserRef\n          .set({\n            nome: data.full_name,\n            email: data.email,\n            id_filial: data.branch_id,\n            tipo_requisicao: data.type_request,\n            tipo_atual: \"novo\",\n            data_criacao: today,\n            hora_criacao: time,\n          })\n          .then(() => {\n            toast.success(\n              \"Sua Solicitação foi armazenada em nosso banco de dados, por favor aguarde o administrador aprovar você\",\n              {\n                theme: \"dark\",\n                position: \"bottom-center\",\n              }\n            );\n          })\n          .catch(() => {\n            toast.error(\"Algo deu errado tente novamente\", {\n              theme: \"dark\",\n              position: \"bottom-center\",\n            });\n          });\n      })\n      .catch((error) => {\n        console.log(error);\n        toast.error(error.message, {\n          theme: \"dark\",\n          position: \"bottom-center\",\n        });\n      });\n\n    toast.clearWaitingQueue();\n    reset();\n  };\n\n  return (\n    <div className=\"d-flex align-items-center auth px-0 h-100\">\n      <div className=\"row w-100 mx-0\">\n        <div className=\"col-lg-4 mx-auto\">\n          <div className=\"card text-left py-5 px-4 px-sm-5\">\n            <h4>Novo por aqui?</h4>\n            <h6 className=\"font-weight-light\">\n              Se inscreva para ter acesso ao sistema em poucos passos\n            </h6>\n            <form className=\"pt-3\" onSubmit={handleSubmit(onSubmit)}>\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control form-control-lg\"\n                  placeholder=\"Nome Completo\"\n                  required\n                  {...register(\"full_name\")}\n                />\n              </div>\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control form-control-lg\"\n                  placeholder=\"Email\"\n                  required\n                  {...register(\"email\")}\n                />\n              </div>\n              <div className=\"form-group\">\n                <input\n                  type=\"password\"\n                  className=\"form-control form-control-lg\"\n                  placeholder=\"Senha\"\n                  required\n                  {...register(\"password\")}\n                />\n              </div>\n              <div className=\"form-group\">\n                <select\n                  className=\"form-control form-control-lg\"\n                  defaultValue=\"\"\n                  required\n                  {...register(\"branch_id\")}\n                >\n                  <option value=\"\" disabled hidden>\n                    Filial da Nexsolar\n                  </option>\n                  {Object.keys(branchs).map((id, value) => {\n                    return (\n                      <option key={id} value={id}>\n                        {branchs[id].localizacao.cidade} ,{\" \"}\n                        {branchs[id].localizacao.estado} -{\" \"}\n                        {branchs[id].localizacao.pais}{\" \"}\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n              <div className=\"form-group\">\n                <select\n                  defaultValue=\"\"\n                  className=\"form-control form-control-lg\"\n                  required\n                  {...register(\"type_request\")}\n                >\n                  <option value=\"\" disabled hidden>\n                    Tipo de Usuário\n                  </option>\n                  <option value=\"administrador\">Administrador</option>\n                  <option value=\"colaborador\">Colaborador</option>\n                  );\n                </select>\n                <p className=\"card-description\">\n                  <code>administrador :</code> é possível cadastrar novos\n                  produtos que chegam ao estoque, selecione esta opção apenas se\n                  você possui controle de estoque\n                </p>\n                <p className=\"card-description\">\n                  <code>funcionário :</code>\n                  esse perfil é voltada para quem faz retirada e devoluções de\n                  produtos do estoque\n                </p>\n              </div>\n\n              <div className=\"mt-3\">\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn\"\n                >\n                  Criar Conta\n                </button>\n                <ToastContainer limit={3} />\n              </div>\n              <div className=\"text-center mt-4 font-weight-light\">\n                Já tem uma conta ?{\" \"}\n                <Link to=\"/user-pages/login-1\" className=\"text-primary\">\n                  Login\n                </Link>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\n\nimport RegisterForm from \"../components/user-pages/RegisterForm\";\n\nexport class Register extends Component {\n  render() {\n    return (\n      <div>\n        <RegisterForm />\n      </div>\n    );\n  }\n}\n\nexport default Register;\n"],"sourceRoot":""}