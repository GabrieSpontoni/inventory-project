(window["webpackJsonpinvenctory-react"]=window["webpackJsonpinvenctory-react"]||[]).push([[14],{133:function(e,t,a){"use strict";var n=a(62);var c=a(146),r=a(70);function o(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||Object(c.a)(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return o}))},146:function(e,t,a){"use strict";function n(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}a.d(t,"a",(function(){return n}))},225:function(e,t,a){},258:function(e,t,a){"use strict";a.r(t);var n=a(23),c=a(24),r=a(26),o=a(25),i=a(0),l=a.n(i),s=(a(96),a(133)),u=a(68),m=a(48),d=a(10),f=a(142),p=a(137),b=a(231),h=a(226),g=a(93),E=(a(136),a(28));a(225);function v(){var e=Object(d.h)().idAction,t=Object(f.a)(),a=t.register,n=t.handleSubmit,c=Object(i.useState)([]),r=Object(m.a)(c,2),o=r[0],v=r[1],y=Object(i.useState)([]),j=Object(m.a)(y,2),O=j[0],x=j[1],w=Object(i.useState)(null),N=Object(m.a)(w,2),k=N[0],S=N[1],A=Object(i.useState)(!0),C=Object(m.a)(A,2),T=C[0],R=C[1],I=Object(i.useState)(!1),L=Object(m.a)(I,2),_=L[0],B=L[1];Object(i.useEffect)((function(){var e=!0,t=E.a.database().ref();return E.a.auth().onAuthStateChanged((function(a){a?t.child("usuarios/".concat(a.uid)).get().then((function(t){e&&(t.exists()?S(Object(u.a)({},t.val())):(console.log("No data available"),S({})))})).catch((function(e){console.error(e)})):console.log("no user")})),function(){e=!1}}),[]),Object(i.useEffect)((function(){var t=!0,a=E.a.storage();if(k){var n=a.ref("/filiais/".concat(k.id_filial,"/acoes/").concat(e,"/"));console.log(),n.listAll().then((function(e){if(0===e.items.length&&R(!1),t){var a=[];e.items.forEach((function(t,n){a.push(e.items[n].name),t.getDownloadURL().then((function(e){x((function(t){return[].concat(Object(s.a)(t),[e])}))}))})),v(a)}})).catch((function(e){console.log(e)}))}return function(){t=!1}}),[e,k]);var F=function(){return B(!1)};return l.a.createElement("div",null,0===O.length&&T&&l.a.createElement("div",null,"Carregando..."),0===O.length&&!T&&l.a.createElement("div",null,"Este produto n\xe3o possui fotos"),l.a.createElement("div",{className:"row"},O.length>0&&Object.keys(O).map((function(t){return l.a.createElement("div",{key:t},l.a.createElement("div",{className:"card",style:{height:"400px",width:"300px",marginRight:"50px",marginTop:"50px",display:"flex"}},l.a.createElement("div",{className:"card-body"},l.a.createElement("img",{src:O[t],alt:"",style:{width:"100%",height:"100%",borderRadius:"8px"}})),l.a.createElement("div",{className:"card-footer",style:{display:"inline-block"}},o[t],l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"btn btn-danger btn-icon-text",style:{marginBottom:"10px",marginLeft:"60%"},onClick:function(){B(!0)}},l.a.createElement("i",{className:"mdi mdi-delete btn-icon-prepend"}),"Excluir"),l.a.createElement(b.a,{show:_,onHide:F},l.a.createElement(b.a.Body,null,l.a.createElement(h.a,{variant:"danger"},l.a.createElement(h.a.Heading,null,"TEM CERTEZA?"),l.a.createElement("p",null,"Ao excluir a foto deste produto a opera\xe7\xe3o n\xe3o poder\xe1 ser desfeita."),l.a.createElement("hr",null))),l.a.createElement(b.a.Footer,null,l.a.createElement(g.a,{variant:"danger",onClick:F},"Cancelar"),l.a.createElement(g.a,{variant:"success",onClick:function(){var a;a=o[t],E.a.storage().ref().child("filiais/".concat(k.id_filial,"/produtos/").concat(e,"/").concat(a)).delete().then((function(){console.log("delete ok"),window.location.reload()})).catch((function(e){console.log(e)}))}},"Confirmar")))))))})),l.a.createElement("div",{className:"card",style:{height:"400px",width:"300px",marginRight:"50px",marginTop:"50px",display:"flex"}},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",null,l.a.createElement("form",{className:"form-sample",onSubmit:n((function(t){console.log(t);for(var a=E.a.storage().ref(),n=function(n){a.child("filiais/".concat(k.id_filial,"/produtos/").concat(e,"/").concat(t.files[n].name)).put(t.files[n]).then((function(e){p.b.success("".concat(t.files[n].name," upload OK"),{theme:"dark",position:"top-center"})})).catch((function(){console.log("upload fail")}))},c=0;c<t.files.length;c++)n(c)}))},l.a.createElement("label",null,l.a.createElement("i",{className:"icon-lg mdi mdi-image-multiple text-primary",style:{marginLeft:"90px",marginTop:"90px",display:"flex",cursor:"pointer"}}),l.a.createElement("input",Object.assign({style:{cursor:"pointer",background:"transparent",border:"none"},id:"myInput",type:"file",accept:"image/*",multiple:!0,className:"form-control",required:!0},a("files")))),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-icon-text",style:{width:"100%",marginTop:"100px"}},"Adicionar Fotos(s)"),l.a.createElement(p.a,null))))))))}a.d(t,"ReturnPhotos",(function(){return y}));var y=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(v,null))}}]),a}(i.Component);t.default=y}}]);
//# sourceMappingURL=14.731ea26b.chunk.js.map